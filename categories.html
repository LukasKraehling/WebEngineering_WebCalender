<!DOCTYPE html>
<html lang="en">
  <head>
    <!--Website-Title-->
    <title>Ci-Ca-Calendar: Categories</title>

    <!--Required meta tags-->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!--Bootstrap CSS-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <!-- External CSS-Stylesheet-->
    <link rel="stylesheet" href="style.css" />

    <!--Dependencies-->
    <!--jQuery-->
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <!--Popper JS-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.15.0/umd/popper.min.js"
      integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU="
      crossorigin="anonymous"
    ></script>
    <!--Bootstrap JS-->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="header">
      <p>Ci-Ca-Calender: Categories</p>
    </div>
  </body>

  <script>
    var categories = null;
    const USERNAME = "18222";
    const SERVICE_URL = "https://dhbw.cheekbyte.de/calendar/" + USERNAME + "/"; //DHBW-Usernames

    //Function to retrieve an event from the remote-database
    function retrieveEvent(id) {
      $.ajax({
        url: SERVICE_URL + "events/" + id,
        success: function(eventData) {
          eventDataGlobal = eventData;
          createForm(eventData);
          return true;
        },
        error: function(error) {
          alert(
            "Could not retrieve event: " + error.status + " " + error.statusText
          );
          return false;
        }
      });
    }

    getCategories();

    function getCategories() {
      $.ajax({
        url: SERVICE_URL + "categories",
        success: function(data) {
          categories = data;
          retrieveEvent(id);
        },
        error: function(error) {
          alert(
            "Could not get categories: " + error.status + " " + error.statusText
          );
          return false;
        }
      });
    }
  </script>
</html>
